<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>코드 테스트용 페이지</title>
	<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
</head>
<body>

관리자 등록 구현<br>
	<input id="aName" type="text" placeholder="관리자 이름">
	<input id="aId" type="text" placeholder="관리자 ID">
	<input id="aPw" type="password" placeholder="관리자 PW">
	<button id="login">관리자 등록</button> <br><br>
	
음료 등록 구현<br>
	<input id="dName" type="text" placeholder="음료 이름">
	<input id="dPrice" type="text" placeholder="가격">
	<input id="dStock" type="number" placeholder="수량">
	<button id="add">상품 등록</button>
	


	
<script>
	$(()=>{
		
		$("#login").on("click", ()=> {
			var aName = $("#aName").val();
			var aId = $("#aId").val();
			var aPw = $("#aPw").val();
			var obj = {
				aName : aName,
				adminId : aId,
				aPw : aPw
			}
			
			const data = JSON.stringify(obj);
			const url = "/api/addAdmin";
			
			$.ajax({
				url:url,
				type:"post",
				contentType:'application/json',
				data:data
			})
			.done((result)=>{
				if(result.result == "ok") {
					alert("관리자 등록 완료");
				} else {
					alert("관리자 등록을 실패했습니다.");
				}
			})
			.fail((err)=>{
				alert("관리자 등록 실패");
			});	
			
		});
		
		
		
		
		$("#add").on("click", ()=> {
			var dName = $("#aName").val();
			var dPrice = $("#aId").val();
			var dStock = $("#aPw").val();
			var adminId = $("#adminId").val();
			var obj = {
				aName : aName,
				aId : aId,
				aPw : aPw
			}
			
			const data = JSON.stringify(obj);
			const url = "/api/addAdmin";
			
			$.ajax({
				url:url,
				type:"post",
				contentType:'application/json',
				data:data
			})
			.done((result)=>{
				if(result.result == "ok") {
					alert("관리자 등록 완료");
				} else {
					alert("관리자 등록을 실패했습니다. 중복되는 아이디입니다.");
				}
			})
			.fail((err)=>{
				alert("관리자 등록 실패");
			});	
			
		});
		
		
		
	});

</script>
</body>
</html>